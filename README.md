This is a little test for pingCap.
The project goal is to read a 1T unordered data file (key_size,key,value_size,value) on a machine configured with 8 cores, 4G memory, and 4T HDDD.
The design idea is pre-processing: the large file is differentiated into small file (1.5g on average) according to the data key, and the data in each small file is sorted by key with multithreading.The MAP data structure based on LRU elimination algorithm is maintained in memory (originally intended to be implemented by LRU of skip table, but the time is too short to do so temporarily).When querying, first go to memory to find out whether the key exists and directly return value; otherwise, read the data in the corresponding file according to the key.It's faster because it's sorted in the preprocessing.Another thread pool is maintained, with a core pool of 8 threads, which reduces the frequency of thread creation.
